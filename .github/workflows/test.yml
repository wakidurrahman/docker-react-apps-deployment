# Optional - The name of the workflow as it will appear in the "Actions" tab of the GitHub repository.
name: Test CI

# Optional - The name for workflow runs generated from the workflow, which will appear in the list of workflow runs on your repository's "Actions" tab. 
run-name: ${{ github.action}} is test GitHub Actions.

# Specifies the trigger for this workflow. This example uses the push event, so a workflow run is triggered every time  merges a pull request
on:
  push:
    branches: [ "main" ]

# Groups together all the jobs that run in the 'Test CI' workflow.
jobs:
  # Defines a job named
  build:
    # Configures the job to run on the latest version of an Ubuntu Linux runner. This means that the job will execute on a fresh virtual machine hosted by GitHub.
    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [18.x]
        # See supported Node.js release schedule at https://nodejs.org/en/about/releases/
    
    # Groups together all the steps that run in the 'build' job. Each item nested under this section is a separate action or shell script.
    steps:
    # The uses keyword specifies that this step will run v3 of the actions/checkout action.
    - uses: actions/checkout@v3
    - name: Use Node.js ${{ matrix.node-version }}
    # This step uses the actions/setup-node@v3 action to install the specified version of the Node.js. (This example uses version 18.) This puts both the node and npm commands in your PATH.
      uses: actions/setup-node@v3
      with:
        node-version: ${{ matrix.node-version }}
    #  The run keyword tells the job to execute a command on the runner. In this case, you are using npm to install.
    - run: npm i
    - run: npm test
